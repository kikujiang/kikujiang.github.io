<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>LitePal框架学习 | Dream Maker</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="关于Android开发中数据库框架LitePal">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="LitePal框架学习 | Dream Maker">
    <meta name="twitter:description" content="关于Android开发中数据库框架LitePal">

    <meta property="og:type" content="article">
    <meta property="og:title" content="LitePal框架学习 | Dream Maker">
    <meta property="og:description" content="关于Android开发中数据库框架LitePal">

    
    <meta name="author" content="kikujiang">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/favicon.ico">
    

    <meta name="generator" content="hexo"/>
    

    <link rel="canonical" href="http://kikujiang.github.io/2014/10/30/android-database-litepal-141030/"/>

    
    <link rel="author" href="https://plus.google.com/u/0/"/>
    
</head>

<body class="home-template no-js">

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 Dream Maker 的主页"><img src="/images/logo2.jpg" width="80" alt="Dream Maker logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Dream Maker">Dream Maker</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">因上努力，果上随缘</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">热爱自然，喜欢动物，渴望旅行，积攒幸福的宅男</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
            
              <li class="navigation__item"><a href="/archives">Blogs</a></li>
            
              <li class="navigation__item"><a href="/about">About</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  
  <li class="navigation__item">
    <a href="http://weibo.com/wb981933877?wvr=5&amp;is_all=1" title="我的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li> 


  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/kikujiang" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  
  <li class="navigation__item">
    <a href="https://plus.google.com/u/0/" title="Google+" target="_blank">
      <i class='social fa fa-google-plus-square'></i>
      <span class="label">Google+</span>
    </a>
  </li>


<!-- Facebook -->

  <li class="navigation__item">
    <a href="https://www.facebook.com/wu.pow.5" title="上Facebook找我" target="_blank">
      <i class='social fa fa-facebook'></i>
      <span class="label">Facebook</span>
    </a>
  </li>

  
<!-- Twitter -->

  



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-purple"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2014-10-30T09:27:07.000Z" class="post-list__meta--date date">2014-10-30</time> &#8226; <span class="post-meta__tags tags">于&nbsp;
  <a class="tag-link" href="/tags/Android/">Android</a>, <a class="tag-link" href="/tags/Database/">Database</a>
</span>
    </div>
    <h1 class="post-title">LitePal框架学习</h1>
  </header>

  <section class="post">
    <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><hr>
<p>前段日子，从<a href="http://blog.csdn.net/sinyu890807/" target="_blank" rel="external">郭神</a>的博客上看到了一个很不错的数据库框架。去<a href="https://github.com/LitePalFramework/LitePal" target="_blank" rel="external">github</a>上仔细的瞧了一番，该框架采用了ORM模式，发现这个配置文件直接使用到实体类中的方法，比起<em>Google</em>官网给出的确实方便了许多。具体关于一些基本数据库的方法操作，官网的一些方法说明也着实的详细。写了个简单的数据库小例子，就是把增删改查做了一些简单的处理。简单的列一下数据库的操作方法。主要用到的就是<em>SQLiteDatabase</em>、<em>ContentValues</em>和<em>Cursor</em>这三个类处理相关的数据操作。依菜主的理解，<em>Litepal</em>这个框架集成了上述的类的操作功能，将这些繁琐的操作做了较好的集成处理。不说废话了，因为只是菜主自己的小demo，可能一些性能优化没有考虑全面，希望大神们可以多多指教。</p>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><hr>
<h3 id="普通方式"><a href="#普通方式" class="headerlink" title="普通方式"></a>普通方式</h3><hr>
<p>一般在数据库中，我们一般会这么进行建表:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TTSDBHelper</span> <span class="keyword">extends</span> <span class="title">SQLiteOpenHelper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TTS_DATABASE_NAME = <span class="string">"powinandroid.db"</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> TTS_DATABASE_VERSION = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TTSDBHelper</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(context, TTS_DATABASE_NAME, <span class="keyword">null</span>, TTS_DATABASE_VERSION);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(SQLiteDatabase db)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		db.execSQL(<span class="string">"CREATE TABLE IF NOT EXISTS "</span></span><br><span class="line">				+ TestEntity.TEST_TABLE_NAME</span><br><span class="line">				+ <span class="string">"(_id INTEGER PRIMARY KEY AUTOINCREMENT, "</span></span><br><span class="line">				+ TestEntity.TESTID + <span class="string">" INTEGER, "</span></span><br><span class="line">				+ TestEntity.TESTNAME + <span class="string">" TEXT, "</span></span><br><span class="line">				+ TestEntity.TESTSEX + <span class="string">" TEXT, "</span></span><br><span class="line">				+ TestEntity.TESTCAREER + <span class="string">" TEXT, "</span></span><br><span class="line">				+ TestEntity.CREATETIME + <span class="string">" TEXT"</span> + <span class="string">")"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpgrade</span><span class="params">(SQLiteDatabase db, <span class="keyword">int</span> oldVersion, <span class="keyword">int</span> newVersion)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		db.execSQL(<span class="string">"DROP TABLE IF EXISTS"</span> + TestEntity.TEST_TABLE_NAME);</span><br><span class="line">		onCreate(db);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>表建好之后，就开始来写增删查改的方法。下面就是插入一条数据的方法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insertTestEntity</span><span class="params">(TestEntity test)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">long</span> successFlag = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">boolean</span> isInsertSuccess;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			db.beginTransaction();</span><br><span class="line">			Cursor maxIdCursor = db.rawQuery(<span class="string">"SELECT MAX(_id) FROM "</span></span><br><span class="line">						+ TestEntity.TEST_TABLE_NAME, <span class="keyword">null</span>);</span><br><span class="line">			<span class="keyword">while</span> (maxIdCursor.moveToNext()) &#123;</span><br><span class="line">				test.setTestId(maxIdCursor.getInt(<span class="number">0</span>));</span><br><span class="line">			&#125;</span><br><span class="line">			ContentValues insertData = <span class="keyword">new</span> ContentValues();</span><br><span class="line">			insertData.put(TestEntity.TESTID, test.getTestId());</span><br><span class="line">			insertData.put(TestEntity.TESTNAME, test.getTestName());</span><br><span class="line">			insertData.put(TestEntity.TESTSEX, test.getTestSex());</span><br><span class="line">			insertData.put(TestEntity.TESTCAREER, test.getTestCareer());</span><br><span class="line">			insertData.put(TestEntity.CREATETIME, test.getCreateTime());</span><br><span class="line">			successFlag = db.insert(TestEntity.TEST_TABLE_NAME, <span class="keyword">null</span>,</span><br><span class="line">					insertData);</span><br><span class="line">			db.setTransactionSuccessful();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line"></span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			db.endTransaction();</span><br><span class="line">			<span class="keyword">if</span> (successFlag &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				isInsertSuccess = <span class="keyword">true</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				isInsertSuccess = <span class="keyword">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> isInsertSuccess;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>对于文章中一些问题的探讨，欢迎大家加我QQ群<strong><em>344590286</em></strong>。大家一起好好讨论讨论。我们继续，插入完成之后，就是更新数据了。这次菜主采用的自建一个<em>TESTID</em>属性。这个属性是通过数据库本身自增长<em>_id</em>来进行赋值的。在更新的过程中，我都是通过<em>TESTID</em>将我的数据进行更新。菜主继续贴代码了:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">updateTestEntity</span><span class="params">(TestEntity test)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">long</span> successFlag = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">boolean</span> isUpdateSuccess;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			db.beginTransaction();</span><br><span class="line">			ContentValues updateData = <span class="keyword">new</span> ContentValues();</span><br><span class="line">			updateData.put(TestEntity.TESTNAME, test.getTestName());</span><br><span class="line">			updateData.put(TestEntity.TESTSEX, test.getTestSex());</span><br><span class="line">			updateData.put(TestEntity.TESTCAREER, test.getTestCareer());</span><br><span class="line">			updateData.put(TestEntity.CREATETIME, test.getCreateTime());</span><br><span class="line">			successFlag = db.update(TestEntity.TEST_TABLE_NAME, updateData,</span><br><span class="line">			TestEntity.TESTID +<span class="string">" = "</span>+test.getTestId(),</span><br><span class="line">									<span class="keyword">null</span>);</span><br><span class="line">			db.setTransactionSuccessful();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line"></span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			db.endTransaction();</span><br><span class="line">			<span class="keyword">if</span> (successFlag &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				isUpdateSuccess = <span class="keyword">true</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				isUpdateSuccess = <span class="keyword">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> isUpdateSuccess;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>其实这些方法挺简单易懂的，但是每次写起来的话步骤都不能少。当然有困惑的时候，我们可以积极参考文档，来对一些知识进行学习和研究。前几天，菜主纠结了<em>rawQuery()</em>和<em>query()</em>这两个方法的区别在哪。如果是<em>SQL</em>语句的能力还不错的话，建议使用<em>rawQuery()</em>这个方法。因为<em>query()</em>这个方法归根结底还是转成<em>SQL</em>语句执行。我们继续来看看删除的方法:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deleteTestEntity</span><span class="params">(<span class="keyword">int</span> testId)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">long</span> successFlag = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">boolean</span> isDeleteSuccess;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			db.beginTransaction();</span><br><span class="line">			<span class="keyword">if</span> (<span class="string">""</span>.equals(testId)) &#123;</span><br><span class="line">				successFlag = db.delete(TestEntity.TEST_TABLE_NAME, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				successFlag = db.delete(TestEntity.TEST_TABLE_NAME,</span><br><span class="line">						TestEntity.TESTID + <span class="string">" = "</span> + testId, <span class="keyword">null</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			db.setTransactionSuccessful();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"></span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			db.endTransaction();</span><br><span class="line">			<span class="keyword">if</span> (successFlag &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				isDeleteSuccess = <span class="keyword">true</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				isDeleteSuccess = <span class="keyword">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> isDeleteSuccess;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>如上面说的，菜主都是根据这个<em>TESTID</em>属性来进行操作数据的。因为一开始的疏忽，本来在查询中也根据这个属性。结果，就出了问题，提示没有<em>TESTID</em>这一栏。后来发现，没有数据的时候就会出现查询不到的异常，不像系统自带的<em>_id</em>这个属性这么好用。我们继续来看:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TestEntity&gt; <span class="title">selectAllTestData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		List&lt;TestEntity&gt; testList = <span class="keyword">new</span> ArrayList&lt;TestEntity&gt;();</span><br><span class="line">		Cursor c = <span class="keyword">null</span>;</span><br><span class="line">		c = db.rawQuery(<span class="string">"SELECT * FROM "</span> + TestEntity.TEST_TABLE_NAME</span><br><span class="line">				+ <span class="string">" ORDER BY "</span>+TestEntity.TESTID+<span class="string">" DESC"</span>, <span class="keyword">null</span>);</span><br><span class="line">		<span class="keyword">while</span> (c.moveToNext()) &#123;</span><br><span class="line">			TestEntity history = <span class="keyword">new</span> TestEntity();</span><br><span class="line">			history.setTestId(c.getInt(c.getColumnIndex(TestEntity.TESTID)));</span><br><span class="line">			history.setTestName(c.getString(c</span><br><span class="line">					.getColumnIndex(TestEntity.TESTNAME)));</span><br><span class="line">			history.setTestSex(c.getString(c.getColumnIndex(TestEntity.TESTSEX)));</span><br><span class="line">			history.setTestCareer(c.getString(c</span><br><span class="line">					.getColumnIndex(TestEntity.TESTCAREER)));</span><br><span class="line">			history.setCreateTime(c.getString(c</span><br><span class="line">					.getColumnIndex(TestEntity.CREATETIME)));</span><br><span class="line">			testList.add(history);</span><br><span class="line">		&#125;</span><br><span class="line">		c.close();</span><br><span class="line">		<span class="keyword">return</span> testList;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>看官们是否看累了?我们这里就把正常的增删改查方法给列出来了。</p>
<h3 id="Litepal框架"><a href="#Litepal框架" class="headerlink" title="Litepal框架"></a>Litepal框架</h3><hr>
<p>在说这个框架之前，菜主首先先推荐一下郭大神的这个框架系列的传送门:<a href="http://blog.csdn.net/guolin_blog/article/details/38083103" target="_blank" rel="external">Android数据库高手秘籍(零)——前言</a>。大神的这个系列对数据库的一些更新操作以及一些联表操作等都做了详细的描述。当然，之前菜主使用<em>TESTID</em>属性作为自增对象的id，在这个框架中是不需要的。因为框架默认是自增的。因为会用到根据自增长id来更新或者删除数据，所以，我们在建表的对象时，最好加一个id的属性，方便我们以后程序中的操作。给个<em>Litepal</em>框架的地址供大家学习:<a href="https://github.com/LitePalFramework/LitePal" target="_blank" rel="external">LitePal for Android</a>。同样的方法，我们直接来看一下这个框架下的增删查改方法:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">	 * 插入一个对象</span><br><span class="line">	 * <span class="doctag">@param</span> insertData</span><br><span class="line">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(TestEntity insertData)</span> </span>&#123;</span><br><span class="line">		insertData.save();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span><br><span class="line">	 * 删除一个对象</span><br><span class="line">	 * <span class="doctag">@param</span> deleteData</span><br><span class="line">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(TestEntity deleteData)</span> </span>&#123;</span><br><span class="line">		deleteData.delete();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span><br><span class="line">	 * 查询所有的对象数据</span><br><span class="line">	 * <span class="doctag">@return</span></span><br><span class="line">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;TestEntity&gt; <span class="title">selectAllData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		List&lt;TestEntity&gt; dataList = <span class="keyword">new</span> ArrayList&lt;TestEntity&gt;();</span><br><span class="line">		dataList = DataSupport.findAll(TestEntity.class);</span><br><span class="line">		<span class="keyword">return</span> dataList;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span><br><span class="line">	 * 更新一个对象	</span><br><span class="line">	 * <span class="doctag">@param</span> updateData</span><br><span class="line">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(TestEntity updateData)</span> </span>&#123;</span><br><span class="line">		updateData.update(updateData.getId());</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>是不是比之前的方法省了很多的工作。关于一些具体的配置，菜主这里就不多说了。这个框架目前菜主用的很舒服。复杂一点的逻辑操作，大神的系列讲解的很到位，我就不班门弄斧了。</p>
<h1 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h1><hr>
<p>这次讲解，菜主没有过多的深挖，主要到目前为主，菜主在android上遇到的一些数据库的知识都是比较基本的。菜主自己也没有在这方面过多的深入研究。下周菜主好好的研究一下我们平常用的底部栏。因为目前项目中都是采用的<em>TabHost</em>。下周好好来看看这个底部栏。</p>

  </section>

</article>


<section class="post-comments">
  <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="http://kikujiang.github.io/2014/10/30/android-database-litepal-141030/" data-title="LitePal框架学习" data-url="http://kikujiang.github.io/2014/10/30/android-database-litepal-141030/"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:"kikujiang"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
</section>



            <footer class="footer">
    <span class="footer__copyright">
        本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
    </span>
    <span class="footer__copyright">
        基于 <a href="http://hexo.io">Hexo</a> 搭建，感谢 <a href="https://pages.github.com/">GitHub Pages</a> 提供免费的托管服务
    </span>
</footer>

        </div>
    </div>

    <script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>

     
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-55690406-1', 'auto');
	ga('send', 'pageview');
</script>

</body>
</html>
